<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-10">
      <div class="card shadow-lg p-4 rounded-4">

        <h2 class="text-center fw-bold mb-1">Cadastro de Usuário</h2>
        <p class="text-center text-muted mb-4">Preencha os dados abaixo para registrar um novo usuário</p>

        <div *ngIf="erro" class="alert alert-danger">{{ erro }}</div>
        <div *ngIf="sucesso" class="alert alert-success">{{ sucesso }}</div>

        <form (ngSubmit)="cadastrar()" #usuarioForm="ngForm" novalidate>

          <div class="row g-4">

            <!-- COLUNA ESQUERDA -->
            <div class="col-md-6">

              <!-- Nome -->
              <div class="mb-3">
                <label class="form-label fw-semibold">Nome</label>
                <input
                  name="nome"
                  type="text"
                  class="form-control"
                  [(ngModel)]="novoUsuario.nome"
                  #nome="ngModel"
                  required
                  minlength="3"
                  placeholder="Digite o nome completo"
                />
                <div *ngIf="nome.invalid && nome.touched" class="text-danger small">
                  <div *ngIf="nome.errors?.['required']">Nome é obrigatório.</div>
                  <div *ngIf="nome.errors?.['minlength']">Mínimo de 3 caracteres.</div>
                </div>
              </div>

              <!-- Email -->
              <div class="mb-3">
                <label class="form-label fw-semibold">Email</label>
                <input
                  name="email"
                  type="email"
                  class="form-control"
                  [(ngModel)]="novoUsuario.email"
                  #email="ngModel"
                  required
                  email
                  placeholder="exemplo@email.com"
                />
                <div *ngIf="email.invalid && email.touched" class="text-danger small">
                  <div *ngIf="email.errors?.['required']">Email é obrigatório.</div>
                  <div *ngIf="email.errors?.['email']">Formato inválido.</div>
                </div>
              </div>

            </div>

            <!-- COLUNA DIREITA -->
            <div class="col-md-6">

              <!-- Senha -->
              <div class="mb-3">
                <label class="form-label fw-semibold">Senha</label>
                <input
                  id="senha"
                  name="senha"
                  type="password"
                  class="form-control"
                  [(ngModel)]="novoUsuario.senha"
                  #senha="ngModel"
                  required
                  minlength="6"
                  placeholder="Digite uma senha segura"
                />
                <div *ngIf="senha.invalid && senha.touched" class="text-danger small">
                  <div *ngIf="senha.errors?.['required']">Senha é obrigatória.</div>
                  <div *ngIf="senha.errors?.['minlength']">Mínimo de 6 caracteres.</div>
                </div>
              </div>

              <!-- Tipo -->
              <div class="mb-3">
                <label class="form-label fw-semibold">Tipo de Usuário</label>
                <select
                  id="tipo"
                  name="tipo"
                  class="form-select"
                  [(ngModel)]="novoUsuario.tipo"
                  #tipo="ngModel"
                  required
                >
                  <option value="" disabled selected>Selecione um tipo</option>
                  <option value="0">Atendente</option>
                  <option value="1">Gerente</option>
                </select>
                <div *ngIf="tipo.invalid && tipo.touched" class="text-danger small">
                  <div>Tipo de usuário é obrigatório.</div>
                </div>
              </div>

            </div>

          </div>

          <!-- Botão -->
          <div class="text-center mt-4">
            <button
              type="submit"
              class="btn btn-primary px-5 py-2 fw-semibold"
              [disabled]="usuarioForm.invalid || loading">
              {{ loading ? 'Cadastrando...' : 'Cadastrar Usuário' }}
            </button>
          </div>

        </form>

      </div>
    </div>
  </div>
</div>
