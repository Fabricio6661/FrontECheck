<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-10">
      <div class="card shadow-lg p-4 rounded-4">

        <h2 class="text-center fw-bold mb-1">Cadastro de Unidade</h2>
        <p class="text-center text-muted mb-4">Preencha os dados abaixo para registrar uma nova Unidade</p>

        <div *ngIf="erro" class="alert alert-danger">{{ erro }}</div>
        <div *ngIf="sucesso" class="alert alert-success">{{ sucesso }}</div>

        <form (ngSubmit)="cadastrar()" #unidadeForm="ngForm" novalidate>
          <div class="row g-4">
            
            <!-- üß≠ Coluna esquerda -->
            <div class="col-md-6">

              <div class="mb-3">
                <label class="form-label">Nome</label>
                <input
                  name="nome"
                  type="text"
                  class="form-control"
                  [(ngModel)]="novaUnidade.nome"
                  #nome="ngModel"
                  required
                  minlength="3"
                  placeholder="Digite o nome completo"
                />
                <div *ngIf="nome.invalid && nome.touched" class="text-danger small">
                  <div *ngIf="nome.errors?.['required']">Nome √© obrigat√≥rio.</div>
                  <div *ngIf="nome.errors?.['minlength']">M√≠nimo de 3 caracteres.</div>
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label">CNPJ</label>
                <input
                  name="cnpj"
                  type="text"
                  class="form-control"
                  [(ngModel)]="novaUnidade.cnpj"
                  #cnpj="ngModel"
                  required
                  placeholder="00.000.000/0000-00"
                />
                <div *ngIf="cnpj.invalid && cnpj.touched" class="text-danger small">
                  <div *ngIf="cnpj.errors?.['required']">CNPJ √© obrigat√≥rio.</div>
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label">Pa√≠s</label>
                <input
                  name="pais"
                  type="text"
                  class="form-control"
                  [(ngModel)]="novaUnidade.pais"
                  #pais="ngModel"
                  required
                  placeholder="Digite o pa√≠s"
                />
                <div *ngIf="pais.invalid && pais.touched" class="text-danger small">
                  <div *ngIf="pais.errors?.['required']">Pa√≠s √© obrigat√≥rio.</div>
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label">UF</label>
                <input
                  name="uf"
                  type="text"
                  class="form-control"
                  [(ngModel)]="novaUnidade.uf"
                  #uf="ngModel"
                  required
                  maxlength="2"
                  placeholder="Ex: SP"
                />
                <div *ngIf="uf.invalid && uf.touched" class="text-danger small">
                  <div *ngIf="uf.errors?.['required']">UF √© obrigat√≥ria.</div>
                </div>
              </div>
            </div>

            <!-- üß≠ Coluna direita -->
            <div class="col-md-6">

              <div class="mb-3">
                <label class="form-label">Cidade</label>
                <input
                  name="cidade"
                  type="text"
                  class="form-control"
                  [(ngModel)]="novaUnidade.cidade"
                  #cidade="ngModel"
                  required
                  placeholder="Digite a cidade"
                />
                <div *ngIf="cidade.invalid && cidade.touched" class="text-danger small">
                  <div *ngIf="cidade.errors?.['required']">Cidade √© obrigat√≥ria.</div>
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label">Bairro</label>
                <input
                  name="bairro"
                  type="text"
                  class="form-control"
                  [(ngModel)]="novaUnidade.bairro"
                  #bairro="ngModel"
                  required
                  placeholder="Digite o bairro"
                />
                <div *ngIf="bairro.invalid && bairro.touched" class="text-danger small">
                  <div *ngIf="bairro.errors?.['required']">Bairro √© obrigat√≥rio.</div>
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label">Rua</label>
                <input
                  name="rua"
                  type="text"
                  class="form-control"
                  [(ngModel)]="novaUnidade.rua"
                  #rua="ngModel"
                  required
                  placeholder="Digite a rua"
                />
                <div *ngIf="rua.invalid && rua.touched" class="text-danger small">
                  <div *ngIf="rua.errors?.['required']">Rua √© obrigat√≥ria.</div>
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label">N√∫mero</label>
                <input
                  name="numero"
                  type="text"
                  class="form-control"
                  [(ngModel)]="novaUnidade.numero"
                  #numero="ngModel"
                  required
                  placeholder="Digite o n√∫mero"
                />
                <div *ngIf="numero.invalid && numero.touched" class="text-danger small">
                  <div *ngIf="numero.errors?.['required']">N√∫mero √© obrigat√≥rio.</div>
                </div>
              </div>
            </div>

          </div>

          <div class="text-center mt-4">
            <button type="submit" class="btn btn-primary px-5 py-2 fw-semibold"
              [disabled]="unidadeForm.invalid || loading">
              {{ loading ? 'Cadastrando...' : 'Cadastrar Unidade' }}
            </button>
          </div>
        </form>

      </div>
    </div>
  </div>
</div>
