<div class="cadastro-wrapper">
  <div class="cadastro-card">
    <h2>Cadastro de Unidade</h2>
    <p class="subtitle">Preencha os dados abaixo para registrar uma nova Unidade</p>

    <div *ngIf="erro" class="alert alert-danger">{{ erro }}</div>
    <div *ngIf="sucesso" class="alert alert-success">{{ sucesso }}</div>

    <form (ngSubmit)="cadastrar()" #unidadeForm="ngForm" novalidate>
      <div class="form-grid">
        <!-- üß≠ Coluna Esquerda -->
        <div class="form-column">
          <div class="form-group">
            <label for="nome">Nome</label>
            <input
              name="nome"
              type="text"
              [(ngModel)]="novaUnidade.nome"
              #nome="ngModel"
              required
              minlength="3"
              placeholder="Digite o nome completo"
            />
            <div *ngIf="nome.invalid && nome.touched" class="text-danger">
              <small *ngIf="nome.errors?.['required']">Nome √© obrigat√≥rio.</small>
              <small *ngIf="nome.errors?.['minlength']">M√≠nimo de 3 caracteres.</small>
            </div>
          </div>

          <div class="form-group">
            <label for="cnpj">CNPJ</label>
            <input
              name="cnpj"
              type="text"
              [(ngModel)]="novaUnidade.cnpj"
              #cnpj="ngModel"
              required
              placeholder="00.000.000/0000-00"
            />
            <div *ngIf="cnpj.invalid && cnpj.touched" class="text-danger">
              <small *ngIf="cnpj.errors?.['required']">CNPJ √© obrigat√≥rio.</small>
            </div>
          </div>

          <div class="form-group">
            <label for="pais">Pa√≠s</label>
            <input
              name="pais"
              type="text"
              [(ngModel)]="novaUnidade.pais"
              #pais="ngModel"
              required
              placeholder="Digite o pa√≠s"
            />
            <div *ngIf="pais.invalid && pais.touched" class="text-danger">
              <small *ngIf="pais.errors?.['required']">Pa√≠s √© obrigat√≥rio.</small>
            </div>
          </div>

          <div class="form-group">
            <label for="uf">UF</label>
            <input
              name="uf"
              type="text"
              [(ngModel)]="novaUnidade.uf"
              #uf="ngModel"
              required
              maxlength="2"
              placeholder="Ex: SP"
            />
            <div *ngIf="uf.invalid && uf.touched" class="text-danger">
              <small *ngIf="uf.errors?.['required']">UF √© obrigat√≥ria.</small>
            </div>
          </div>
        </div>

        <!-- üß≠ Coluna Direita -->
        <div class="form-column">
          <div class="form-group">
            <label for="cidade">Cidade</label>
            <input
              name="cidade"
              type="text"
              [(ngModel)]="novaUnidade.cidade"
              #cidade="ngModel"
              required
              placeholder="Digite a cidade"
            />
            <div *ngIf="cidade.invalid && cidade.touched" class="text-danger">
              <small *ngIf="cidade.errors?.['required']">Cidade √© obrigat√≥ria.</small>
            </div>
          </div>

          <div class="form-group">
            <label for="bairro">Bairro</label>
            <input
              name="bairro"
              type="text"
              [(ngModel)]="novaUnidade.bairro"
              #bairro="ngModel"
              required
              placeholder="Digite o bairro"
            />
            <div *ngIf="bairro.invalid && bairro.touched" class="text-danger">
              <small *ngIf="bairro.errors?.['required']">Bairro √© obrigat√≥rio.</small>
            </div>
          </div>

          <div class="form-group">
            <label for="rua">Rua</label>
            <input
              name="rua"
              type="text"
              [(ngModel)]="novaUnidade.rua"
              #rua="ngModel"
              required
              placeholder="Digite a rua"
            />
            <div *ngIf="rua.invalid && rua.touched" class="text-danger">
              <small *ngIf="rua.errors?.['required']">Rua √© obrigat√≥ria.</small>
            </div>
          </div>

          <div class="form-group">
            <label for="numero">N√∫mero</label>
            <input
              name="numero"
              type="text"
              [(ngModel)]="novaUnidade.numero"
              #numero="ngModel"
              required
              placeholder="Digite o n√∫mero"
            />
            <div *ngIf="numero.invalid && numero.touched" class="text-danger">
              <small *ngIf="numero.errors?.['required']">N√∫mero √© obrigat√≥rio.</small>
            </div>
          </div>
        </div>
      </div>

      <div class="form-actions">
        <button type="submit" [disabled]="unidadeForm.invalid || loading">
          {{ loading ? 'Cadastrando...' : 'Cadastrar Unidade' }}
        </button>
      </div>
    </form>
  </div>
</div>
